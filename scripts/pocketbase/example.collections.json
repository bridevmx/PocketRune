[
    {
        "id": "pbc_permissions",
        "name": "permissions",
        "type": "base",
        "system": false,
        "listRule": "@request.auth.id != \"\"",
        "viewRule": "@request.auth.id != \"\"",
        "createRule": null,
        "updateRule": null,
        "deleteRule": null,
        "indexes": [
            "CREATE UNIQUE INDEX `idx_perm_key` ON `permissions` (`key`)"
        ],
        "fields": [
            {
                "id": "perm_key_field",
                "name": "key",
                "type": "text",
                "system": false,
                "required": true,
                "presentable": true,
                "unique": true,
                "min": 3,
                "max": 100,
                "pattern": "^[a-z_:]+$"
            }
        ]
    },
    {
        "id": "pbc_roles",
        "name": "roles",
        "type": "base",
        "system": false,
        "listRule": "@request.auth.id != \"\"",
        "viewRule": "@request.auth.id != \"\"",
        "createRule": null,
        "updateRule": null,
        "deleteRule": null,
        "indexes": [
            "CREATE UNIQUE INDEX `idx_role_name` ON `roles` (`name`)"
        ],
        "fields": [
            {
                "id": "role_name_field",
                "name": "name",
                "type": "text",
                "system": false,
                "required": true,
                "presentable": true,
                "unique": true,
                "min": 2,
                "max": 50,
                "pattern": ""
            },
            {
                "id": "role_perms_field",
                "name": "permissions",
                "type": "relation",
                "system": false,
                "required": false,
                "presentable": false,
                "collectionId": "pbc_permissions",
                "cascadeDelete": true,
                "minSelect": null,
                "maxSelect": null,
                "displayFields": [
                    "key"
                ]
            }
        ]
    },
    {
        "id": "pbc_1736455494",
        "name": "users",
        "type": "auth",
        "system": false,
        "listRule": "@request.auth.expand.role.expand.permissions.key ?~ 'users:view'",
        "viewRule": "(@request.auth.id = id) || @request.auth.expand.role.expand.permissions.key ?~ 'users:view'",
        "createRule": "@request.auth.expand.role.expand.permissions.key ?~ 'users:create'",
        "updateRule": "(@request.auth.id = id) || @request.auth.expand.role.expand.permissions.key ?~ 'users:edit'",
        "deleteRule": "@request.auth.expand.role.expand.permissions.key ?~ 'users:delete'",
        "indexes": [
            "CREATE UNIQUE INDEX `idx_users_phone` ON `users` (`phone`)",
            "CREATE UNIQUE INDEX `idx_users_username` ON `users` (`username`)"
        ],
        "fields": [
            {
                "id": "text1146066909",
                "name": "phone",
                "type": "text",
                "system": false,
                "required": true,
                "presentable": false,
                "min": 10,
                "max": 10,
                "pattern": ""
            },
            {
                "id": "text4166911607",
                "name": "username",
                "type": "text",
                "system": false,
                "required": true,
                "presentable": true,
                "min": 3,
                "max": 64,
                "pattern": ""
            },
            {
                "id": "relation1466534506",
                "name": "role",
                "type": "relation",
                "system": false,
                "required": true,
                "presentable": false,
                "collectionId": "pbc_roles",
                "cascadeDelete": false,
                "minSelect": 1,
                "maxSelect": 1,
                "displayFields": [
                    "name"
                ]
            },
            {
                "id": "url376926767",
                "name": "avatar",
                "type": "url",
                "system": false,
                "required": false,
                "presentable": false,
                "exceptDomains": null,
                "onlyDomains": null
            }
        ]
    },
    {
        "id": "pbc_2382559930",
        "name": "menu_items",
        "type": "base",
        "system": false,
        "listRule": "@request.auth.id != \"\"",
        "viewRule": "@request.auth.id != \"\"",
        "createRule": null,
        "updateRule": null,
        "deleteRule": null,
        "fields": [
            {
                "id": "text245846248",
                "name": "label",
                "type": "text",
                "system": false,
                "required": true,
                "presentable": true,
                "max": 24,
                "min": 0,
                "pattern": ""
            },
            {
                "id": "text888727361",
                "name": "href",
                "type": "text",
                "system": false,
                "required": true,
                "presentable": false,
                "max": 64,
                "min": 0,
                "pattern": ""
            },
            {
                "id": "text1704208859",
                "name": "icon",
                "type": "text",
                "system": false,
                "required": true,
                "presentable": false,
                "max": 0,
                "min": 0,
                "pattern": ""
            },
            {
                "id": "text2356704163",
                "name": "requiredPermission",
                "type": "text",
                "system": false,
                "required": false,
                "presentable": false,
                "max": 0,
                "min": 0,
                "pattern": ""
            },
            {
                "id": "number4113142680",
                "name": "order",
                "type": "number",
                "system": false,
                "required": false,
                "presentable": false,
                "max": 1000,
                "min": 0
            }
        ]
    }
]